<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LBTI 학습자 유형 테스트</title>
<style>
body {
    font-family: 'Noto Sans KR', sans-serif;
    background: linear-gradient(135deg, #a8c0ff, #3f2b96);
    color: #333;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}
.card {
    background: #fff;
    border-radius: 18px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    max-width: 850px;
    width: 92%;
    padding: 40px 50px;
    animation: fadein 0.4s ease-in-out;
}
@keyframes fadein {
    from {opacity: 0; transform: translateY(20px);}
    to {opacity: 1; transform: translateY(0);}
}
h1, h2, h3 { text-align: center; color: #3f2b96; }
.question { margin: 25px 0; }
.options label { display: block; margin: 6px 0; }
.btn {
    background: #3f2b96;
    color: #fff;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
    transition: 0.3s;
}
.btn:hover { background: #2d2172; }
.center { text-align: center; margin-top: 20px; }
.hidden { display: none; }
.bar { height: 20px; background: #3f2b96; border-radius: 6px; margin: 6px 0; }
.label { margin-top: 8px; font-weight: 500; }
.progress { text-align: center; margin-top: 10px; color: #666; }
.tip-box {
    background: #f7f7ff;
    border-left: 5px solid #3f2b96;
    padding: 15px;
    border-radius: 10px;
    margin-top: 25px;
}
</style>
</head>
<body>
<div class="card" id="quiz-card">
    <h1>📘 LBTI 학습자 유형 테스트</h1>
    <div id="quiz"></div>
    <div class="center">
        <button class="btn" id="prev" disabled>이전</button>
        <button class="btn" id="next">다음</button>
        <button class="btn hidden" id="submit">결과 보기</button>
        <div class="progress" id="progress"></div>
    </div>
</div>

<div class="card hidden" id="result-card">
    <h2>결과</h2>
    <div id="result"></div>
</div>

<script>
// ===== 질문 세트 =====
const questions = [
    {text: "혼자 공부할 때 집중이 잘 된다.", type:"I"},
    {text: "토론이나 그룹 스터디를 통해 배울 때 이해가 더 잘 된다.", type:"E"},
    {text: "공부할 때 외부 자극을 최소화하고 싶다.", type:"I"},
    {text: "다른 사람과 아이디어를 주고받을 때 영감이 생긴다.", type:"E"},
    {text: "학습 중 생각을 글로 정리하는 것을 선호한다.", type:"I"},
    {text: "말로 설명하거나 대화할 때 이해가 더 깊어진다.", type:"E"},
    {text: "혼자서 문제를 푸는 것이 편하다.", type:"I"},
    {text: "여러 사람과 함께 학습할 때 에너지가 난다.", type:"E"},
    {text: "공부 중 질문을 하기보단 스스로 탐구한다.", type:"I"},
    {text: "질문과 토론으로 이해를 확장한다.", type:"E"},
    {text: "구체적인 예시나 실생활 사례로 배워야 이해가 된다.", type:"C"},
    {text: "개념이나 원리를 이해하는 것이 더 흥미롭다.", type:"A"},
    {text: "정확한 데이터와 사실이 중요하다.", type:"C"},
    {text: "이론적 모델이나 아이디어에 매력을 느낀다.", type:"A"},
    {text: "지식을 실습이나 체험을 통해 배우고 싶다.", type:"C"},
    {text: "추상적인 개념을 탐구하고 연결하는 걸 좋아한다.", type:"A"},
    {text: "교재의 구체적 예제 위주로 공부한다.", type:"C"},
    {text: "요약 개념도표나 구조도를 만들어 공부한다.", type:"A"},
    {text: "직관보다는 실제 경험을 신뢰한다.", type:"C"},
    {text: "현상을 이론적으로 설명하려는 경향이 있다.", type:"A"},
    {text: "학습 계획표를 세우고 그에 따라 공부한다.", type:"S"},
    {text: "즉흥적으로 공부 시간을 정하는 편이다.", type:"P"},
    {text: "일정한 루틴과 규칙이 있어야 마음이 편하다.", type:"S"},
    {text: "상황에 맞게 계획을 자주 바꾼다.", type:"P"},
    {text: "체계적인 노트 정리를 한다.", type:"S"},
    {text: "노트 대신 자유롭게 아이디어를 적는다.", type:"P"},
    {text: "목표와 단계별 계획을 세운다.", type:"S"},
    {text: "흥미가 생길 때마다 공부 주제를 바꾼다.", type:"P"},
    {text: "일정을 미리 정해두고 실행한다.", type:"S"},
    {text: "즉흥적으로 학습 방법을 바꿀 수 있다.", type:"P"},
    {text: "공부 내용을 혼자 곱씹으며 성찰한다.", type:"R"},
    {text: "학습 내용을 친구에게 적극적으로 공유한다.", type:"L"},
    {text: "조용히 스스로의 생각을 정리하는 편이다.", type:"R"},
    {text: "학습 과정에서 활발히 참여하고 반응한다.", type:"L"},
    {text: "내면적 통찰을 중시한다.", type:"R"},
    {text: "학습 분위기를 활기차게 만드는 편이다.", type:"L"},
    {text: "혼자만의 시간에서 아이디어가 정리된다.", type:"R"},
    {text: "집단 활동을 통해 에너지를 얻는다.", type:"L"},
    {text: "조용한 학습 환경이 집중에 도움 된다.", type:"R"},
    {text: "다른 사람의 반응 속에서 배우는 것이 좋다.", type:"L"},
    {text: "스터디보다 혼자 하는 복습이 더 효과적이다.", type:"I"},
    {text: "타인의 의견을 들으면 공부가 더 재밌다.", type:"E"},
    {text: "이론보다 실무적인 지식을 더 선호한다.", type:"C"},
    {text: "상상의 개념을 탐구할 때 몰입된다.", type:"A"},
    {text: "계획대로 진행되어야 안심된다.", type:"S"},
    {text: "계획보단 그때그때 흐름에 따라 공부한다.", type:"P"},
    {text: "조용히 글을 쓰며 학습 내용을 정리한다.", type:"R"},
    {text: "학습 중 발표나 토론이 도움이 된다.", type:"L"},
    {text: "혼자 공부할 때 가장 효율적이다.", type:"I"},
    {text: "누군가와 함께 공부하면 동기부여가 된다.", type:"E"}
];

// ===== 전역 상태 =====
const scores = {I:0,E:0,C:0,A:0,S:0,P:0,R:0,L:0};
let currentPage = 0;
const perPage = 10;
const totalPages = Math.ceil(questions.length / perPage);
const answers = new Array(questions.length).fill(null);

// ===== 페이지 렌더링 =====
function renderPage() {
    const quiz = document.getElementById("quiz");
    quiz.innerHTML = "";
    const start = currentPage * perPage;
    const end = start + perPage;

    questions.slice(start, end).forEach((q, i) => {
        const index = start + i;
        const saved = answers[index];

        quiz.innerHTML += `
        <div class="question">
            <p><b>Q${index + 1}.</b> ${q.text}</p>
            <div class="options">
                ${[1, 0.5, -0.5, -1].map((v, j) => {
                    const labels = ["매우 그렇다", "약간 그렇다", "약간 아니다", "전혀 아니다"];
                    const checked = saved === v ? "checked" : "";
                    return `<label><input type="radio" name="q${index}" value="${v},${q.type}" ${checked}> ${labels[j]}</label>`;
                }).join("")}
            </div>
        </div>`;
    });

    document.getElementById("prev").disabled = currentPage === 0;
    document.getElementById("next").classList.toggle("hidden", currentPage === totalPages - 1);
    document.getElementById("submit").classList.toggle("hidden", currentPage !== totalPages - 1);
    document.getElementById("progress").innerText = `페이지 ${currentPage + 1} / ${totalPages}`;

    // 저장 로직
    document.querySelectorAll("input[type='radio']").forEach(input => {
        input.addEventListener("change", e => {
            const [val, type] = e.target.value.split(",");
            const qIndex = parseInt(e.target.name.replace("q", ""));
            answers[qIndex] = parseFloat(val);
        });
    });
}
renderPage();

// ===== 페이지 이동 =====
document.getElementById("next").onclick = () => { currentPage++; renderPage(); };
document.getElementById("prev").onclick = () => { currentPage--; renderPage(); };

// ===== 결과 계산 =====
document.getElementById("submit").onclick = () => {
    if (answers.includes(null)) {
        alert("모든 문항에 답해주세요!");
        return;
    }

    Object.keys(scores).forEach(k => scores[k] = 0);
    answers.forEach((val, i) => {
        const t = questions[i].type;
        scores[t] += val;
    });

    const pct = (a,b)=>Math.round((a+a+b+b===0)?50:(a>0?a/(a+Math.abs(b)):Math.abs(a)/(Math.abs(a)+b))*100);
    const resultType = 
        (scores.I>=scores.E?"I":"E")+
        (scores.C>=scores.A?"C":"A")+
        (scores.S>=scores.P?"S":"P")+
        (scores.R>=scores.L?"R":"L");

    const descriptions = {
        "ICSR":"내향적이고 구체적이며 체계적이고 성찰적인 학습자입니다. 조용한 환경에서 명확한 계획을 세우고 깊이 있게 학습하는 것을 선호합니다. 꾸준함과 집중력이 강점입니다.",
        "ICSL":"구체적 예시 중심 학습을 선호하지만 활발한 참여를 통해 더 성장하는 타입입니다. 토론과 협업을 병행하면 효과적입니다.",
        "ICPR":"유연하고 실용적인 학습자입니다. 자유로운 학습 분위기에서 다양한 시도를 하며 자신에게 맞는 방식을 찾아갑니다.",
        "ICPL":"실습과 경험을 통해 배우는 자유로운 탐구형 학습자입니다. 프로젝트 기반 학습에 강점을 가집니다.",
        "IASR":"이론적이고 구조화된 학습을 좋아하는 분석형 학습자입니다. 개념 이해와 정리 능력이 뛰어나며 체계적 사고력이 강점입니다.",
        "IASL":"이론적 토론과 협력 학습에서 최고의 효율을 내는 스타일입니다. 개념 탐구와 아이디어 교류에 강합니다.",
        "IAPR":"창의적이면서도 자기 성찰적인 탐구자입니다. 깊이 있는 개념 학습과 새로운 아이디어 탐색을 즐깁니다.",
        "IAPL":"아이디어와 개념을 자유롭게 교환하며 배우는 창의적 학습자입니다. 토론 중심 학습에 적합합니다.",
        "ECSR":"조직적이고 현실적인 협동형 학습자입니다. 명확한 목표 아래 체계적으로 일하며 그룹 내에서 리더십을 발휘합니다.",
        "ECSL":"실용적이고 활발한 학습자입니다. 구체적 과제나 협력 프로젝트를 통해 학습할 때 성취감을 느낍니다.",
        "ECPR":"경험과 반성을 통해 배우는 실천형 학습자입니다. 유연한 사고로 문제를 해결하는 능력이 탁월합니다.",
        "ECPL":"자유롭고 사교적인 탐험가형 학습자입니다. 다양한 시도를 즐기며 협업 환경에서 창의력을 발휘합니다.",
        "EASR":"논리적이고 체계적인 사고를 가진 리더형 학습자입니다. 분석과 계획 능력이 뛰어나며, 토론 속에서도 명확한 결론을 도출합니다.",
        "EASL":"활발하고 개념적 사고가 뛰어난 혁신형 학습자입니다. 팀 학습에서 활발히 아이디어를 제시하고 토론을 이끕니다.",
        "EAPR":"창의적 사고와 자기성찰이 균형 잡힌 탐구형 학습자입니다. 실험과 분석을 반복하며 성장합니다.",
        "EAPL":"자유로운 사고와 협동을 즐기는 창의형 학습자입니다. 프로젝트 기반 토론식 학습에 특히 강합니다."
    };

    const desc = descriptions[resultType] || "당신만의 학습 유형을 발견해보세요.";

    document.getElementById("quiz-card").classList.add("hidden");
    const r = document.getElementById("result-card");
    r.classList.remove("hidden");
    r.innerHTML = `
        <h2>당신의 LBTI 유형은 <span style="color:#3f2b96">${resultType}</span> 입니다</h2>
        <div class="label">I ${pct(scores.I,scores.E)}% / E ${pct(scores.E,scores.I)}%</div>
        <div class="bar" style="width:${pct(scores.I,scores.E)}%;background:#3f2b96;"></div>
        <div class="label">C ${pct(scores.C,scores.A)}% / A ${pct(scores.A,scores.C)}%</div>
        <div class="bar" style="width:${pct(scores.C,scores.A)}%;background:#6fa87f;"></div>
        <div class="label">S ${pct(scores.S,scores.P)}% / P ${pct(scores.P,scores.S)}%</div>
        <div class="bar" style="width:${pct(scores.S,scores.P)}%;background:#76b852;"></div>
        <div class="label">R ${pct(scores.R,scores.L)}% / L ${pct(scores.L,scores.R)}%</div>
        <div class="bar" style="width:${pct(scores.R,scores.L)}%;background:#f2b94b;"></div>
        <div class="tip-box">
            <h3>📘 학습유형 설명</h3>
            <p>${desc}</p>
        </div>`;
};
</script>
</body>
</html>
